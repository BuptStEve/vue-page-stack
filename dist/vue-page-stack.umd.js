!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).VuePageStack=e()}(this,(function(){"use strict";const t="VuePageStack",e="stack-key",n="push",o="go",r="replace",s="back",c="forward",i={action:n};function a(t,e){const n=Object.create(null),o=t.split(",");for(let r=0;r<o.length;r++)n[o[r]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}const l=a("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl");function u(t){if(R(t)){const e={};for(let n=0;n<t.length;n++){const o=t[n],r=u(O(o)?h(o):o);if(r)for(const t in r)e[t]=r[t]}return e}if(x(t))return t}const f=/;(?![^(]*\))/g,p=/:(.+)/;function h(t){const e={};return t.split(f).forEach((t=>{if(t){const n=t.split(p);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function d(t){let e="";if(O(t))e=t;else if(R(t))for(let n=0;n<t.length;n++)e+=d(t[n])+" ";else if(x(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const g={},_=()=>{},y=/^on[^a-z]/,v=t=>y.test(t),E=Object.assign,m=Object.prototype.hasOwnProperty,b=(t,e)=>m.call(t,e),R=Array.isArray,N=t=>"[object Map]"===C(t),S=t=>"function"==typeof t,O=t=>"string"==typeof t,w=t=>"symbol"==typeof t,x=t=>null!==t&&"object"==typeof t,T=Object.prototype.toString,C=t=>T.call(t),k=t=>O(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,P=(t,e)=>t!==e&&(t==t||e==e),M=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},L=new WeakMap,I=[];let A;const F=Symbol(""),$=Symbol("");function U(t,e=g){(function(t){return t&&!0===t._isEffect})(t)&&(t=t.raw);const n=function(t,e){const n=function(){if(!n.active)return e.scheduler?void 0:t();if(!I.includes(n)){D(n);try{return H.push(V),V=!0,I.push(n),A=n,t()}finally{I.pop(),q(),A=I[I.length-1]}}};return n.id=j++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}(t,e);return e.lazy||n(),n}let j=0;function D(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let V=!0;const H=[];function z(){H.push(V),V=!1}function q(){const t=H.pop();V=void 0===t||t}function K(t,e,n){if(!V||void 0===A)return;let o=L.get(t);o||L.set(t,o=new Map);let r=o.get(n);r||o.set(n,r=new Set),r.has(A)||(r.add(A),A.deps.push(r))}function W(t,e,n,o,r,s){const c=L.get(t);if(!c)return;const i=new Set,a=t=>{t&&t.forEach((t=>{(t!==A||t.allowRecurse)&&i.add(t)}))};if("clear"===e)c.forEach(a);else if("length"===n&&R(t))c.forEach(((t,e)=>{("length"===e||e>=o)&&a(t)}));else switch(void 0!==n&&a(c.get(n)),e){case"add":R(t)?k(n)&&a(c.get("length")):(a(c.get(F)),N(t)&&a(c.get($)));break;case"delete":R(t)||(a(c.get(F)),N(t)&&a(c.get($)));break;case"set":N(t)&&a(c.get(F))}i.forEach((t=>{t.options.scheduler?t.options.scheduler(t):t()}))}const B=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(w)),X=Z(),Y=Z(!1,!0),J=Z(!0),G=Z(!0,!0),Q={};function Z(t=!1,e=!1){return function(n,o,r){if("__v_isReactive"===o)return!t;if("__v_isReadonly"===o)return t;if("__v_raw"===o&&r===(t?St:Nt).get(n))return n;const s=R(n);if(!t&&s&&b(Q,o))return Reflect.get(Q,o,r);const c=Reflect.get(n,o,r);if(w(o)?B.has(o):"__proto__"===o||"__v_isRef"===o)return c;if(t||K(n,0,o),e)return c;if(Pt(c)){return!s||!k(o)?c.value:c}return x(c)?t?xt(c):wt(c):c}}["includes","indexOf","lastIndexOf"].forEach((t=>{const e=Array.prototype[t];Q[t]=function(...t){const n=kt(this);for(let e=0,r=this.length;e<r;e++)K(n,0,e+"");const o=e.apply(n,t);return-1===o||!1===o?e.apply(n,t.map(kt)):o}})),["push","pop","shift","unshift","splice"].forEach((t=>{const e=Array.prototype[t];Q[t]=function(...t){z();const n=e.apply(this,t);return q(),n}}));function tt(t=!1){return function(e,n,o,r){const s=e[n];if(!t&&(o=kt(o),!R(e)&&Pt(s)&&!Pt(o)))return s.value=o,!0;const c=R(e)&&k(n)?Number(n)<e.length:b(e,n),i=Reflect.set(e,n,o,r);return e===kt(r)&&(c?P(o,s)&&W(e,"set",n,o):W(e,"add",n,o)),i}}const et={get:X,set:tt(),deleteProperty:function(t,e){const n=b(t,e);t[e];const o=Reflect.deleteProperty(t,e);return o&&n&&W(t,"delete",e,void 0),o},has:function(t,e){const n=Reflect.has(t,e);return w(e)&&B.has(e)||K(t,0,e),n},ownKeys:function(t){return K(t,0,R(t)?"length":F),Reflect.ownKeys(t)}},nt={get:J,set:(t,e)=>!0,deleteProperty:(t,e)=>!0};E({},et,{get:Y,set:tt(!0)}),E({},nt,{get:G});const ot=t=>x(t)?wt(t):t,rt=t=>x(t)?xt(t):t,st=t=>t,ct=t=>Reflect.getPrototypeOf(t);function it(t,e,n=!1,o=!1){const r=kt(t=t.__v_raw),s=kt(e);e!==s&&!n&&K(r,0,e),!n&&K(r,0,s);const{has:c}=ct(r),i=n?rt:o?st:ot;return c.call(r,e)?i(t.get(e)):c.call(r,s)?i(t.get(s)):void 0}function at(t,e=!1){const n=this.__v_raw,o=kt(n),r=kt(t);return t!==r&&!e&&K(o,0,t),!e&&K(o,0,r),t===r?n.has(t):n.has(t)||n.has(r)}function lt(t,e=!1){return t=t.__v_raw,!e&&K(kt(t),0,F),Reflect.get(t,"size",t)}function ut(t){t=kt(t);const e=kt(this),n=ct(e).has.call(e,t);return e.add(t),n||W(e,"add",t,t),this}function ft(t,e){e=kt(e);const n=kt(this),{has:o,get:r}=ct(n);let s=o.call(n,t);s||(t=kt(t),s=o.call(n,t));const c=r.call(n,t);return n.set(t,e),s?P(e,c)&&W(n,"set",t,e):W(n,"add",t,e),this}function pt(t){const e=kt(this),{has:n,get:o}=ct(e);let r=n.call(e,t);r||(t=kt(t),r=n.call(e,t)),o&&o.call(e,t);const s=e.delete(t);return r&&W(e,"delete",t,void 0),s}function ht(){const t=kt(this),e=0!==t.size,n=t.clear();return e&&W(t,"clear",void 0,void 0),n}function dt(t,e){return function(n,o){const r=this,s=r.__v_raw,c=kt(s),i=t?rt:e?st:ot;return!t&&K(c,0,F),s.forEach(((t,e)=>n.call(o,i(t),i(e),r)))}}function gt(t,e,n){return function(...o){const r=this.__v_raw,s=kt(r),c=N(s),i="entries"===t||t===Symbol.iterator&&c,a="keys"===t&&c,l=r[t](...o),u=e?rt:n?st:ot;return!e&&K(s,0,a?$:F),{next(){const{value:t,done:e}=l.next();return e?{value:t,done:e}:{value:i?[u(t[0]),u(t[1])]:u(t),done:e}},[Symbol.iterator](){return this}}}}function _t(t){return function(...e){return"delete"!==t&&this}}const yt={get(t){return it(this,t)},get size(){return lt(this)},has:at,add:ut,set:ft,delete:pt,clear:ht,forEach:dt(!1,!1)},vt={get(t){return it(this,t,!1,!0)},get size(){return lt(this)},has:at,add:ut,set:ft,delete:pt,clear:ht,forEach:dt(!1,!0)},Et={get(t){return it(this,t,!0)},get size(){return lt(this,!0)},has(t){return at.call(this,t,!0)},add:_t("add"),set:_t("set"),delete:_t("delete"),clear:_t("clear"),forEach:dt(!0,!1)};function mt(t,e){const n=e?vt:t?Et:yt;return(e,o,r)=>"__v_isReactive"===o?!t:"__v_isReadonly"===o?t:"__v_raw"===o?e:Reflect.get(b(n,o)&&o in e?n:e,o,r)}["keys","values","entries",Symbol.iterator].forEach((t=>{yt[t]=gt(t,!1,!1),Et[t]=gt(t,!0,!1),vt[t]=gt(t,!1,!0)}));const bt={get:mt(!1,!1)},Rt={get:mt(!0,!1)},Nt=new WeakMap,St=new WeakMap;function Ot(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>C(t).slice(8,-1))(t))}function wt(t){return t&&t.__v_isReadonly?t:Tt(t,!1,et,bt)}function xt(t){return Tt(t,!0,nt,Rt)}function Tt(t,e,n,o){if(!x(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const r=e?St:Nt,s=r.get(t);if(s)return s;const c=Ot(t);if(0===c)return t;const i=new Proxy(t,2===c?o:n);return r.set(t,i),i}function Ct(t){return function(t){return!(!t||!t.__v_isReadonly)}(t)?Ct(t.__v_raw):!(!t||!t.__v_isReactive)}function kt(t){return t&&kt(t.__v_raw)||t}function Pt(t){return Boolean(t&&!0===t.__v_isRef)}function Mt(t,e,n,o){let r;try{r=o?t(...o):t()}catch(s){It(s,e,n)}return r}function Lt(t,e,n,o){if(S(t)){const s=Mt(t,e,n,o);return s&&(x(r=s)&&S(r.then)&&S(r.catch))&&s.catch((t=>{It(t,e,n)})),s}var r;const s=[];for(let c=0;c<t.length;c++)s.push(Lt(t[c],e,n,o));return s}function It(t,e,n,o=!0){e&&e.vnode;if(e){let o=e.parent;const r=e.proxy,s=n;for(;o;){const e=o.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,r,s))return;o=o.parent}const c=e.appContext.config.errorHandler;if(c)return void Mt(c,null,10,[t,r,s])}!function(t,e,n,o=!0){console.error(t)}(t,0,0,o)}let At=!1,Ft=!1;const $t=[];let Ut=0;const jt=[];let Dt=null,Vt=0;const Ht=[];let zt=null,qt=0;const Kt=Promise.resolve();let Wt=null,Bt=null;function Xt(t){const e=Wt||Kt;return t?e.then(this?t.bind(this):t):e}function Yt(){At||Ft||(Ft=!0,Wt=Kt.then(te))}function Jt(t,e,n,o){R(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?o+1:o)||n.push(t),Yt()}function Gt(t){Jt(t,zt,Ht,qt)}function Qt(t,e=null){if(jt.length){for(Bt=e,Dt=[...new Set(jt)],jt.length=0,Vt=0;Vt<Dt.length;Vt++)Dt[Vt]();Dt=null,Vt=0,Bt=null,Qt(t,e)}}const Zt=t=>null==t.id?1/0:t.id;function te(t){Ft=!1,At=!0,Qt(t),$t.sort(((t,e)=>Zt(t)-Zt(e)));try{for(Ut=0;Ut<$t.length;Ut++){const t=$t[Ut];t&&Mt(t,null,14)}}finally{Ut=0,$t.length=0,function(t){if(Ht.length){const t=[...new Set(Ht)];if(Ht.length=0,zt)return void zt.push(...t);for(zt=t,zt.sort(((t,e)=>Zt(t)-Zt(e))),qt=0;qt<zt.length;qt++)zt[qt]();zt=null,qt=0}}(),At=!1,Wt=null,($t.length||Ht.length)&&te(t)}}const ee=t=>(e,n=ve)=>function(t,e,n=ve,o=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;z(),Ee(n);const r=Lt(e,n,t,o);return Ee(null),q(),r});return o?r.unshift(s):r.push(s),s}}(t,e,n),ne=ee("m"),oe=ee("u"),re=ee("bum"),se={};function ce(t,e,{immediate:n,deep:o,flush:r,onTrack:s,onTrigger:c}=g,i=ve){let a,l,u=!1;if(Pt(t)?(a=()=>t.value,u=!!t._shallow):Ct(t)?(a=()=>t,o=!0):a=R(t)?()=>t.map((t=>Pt(t)?t.value:Ct(t)?ae(t):S(t)?Mt(t,i,2):void 0)):S(t)?e?()=>Mt(t,i,2):()=>{if(!i||!i.isUnmounted)return l&&l(),Mt(t,i,3,[f])}:_,e&&o){const t=a;a=()=>ae(t())}const f=t=>{l=y.options.onStop=()=>{Mt(t,i,4)}};let p=R(t)?[]:se;const h=()=>{if(y.active)if(e){const t=y();(o||u||P(t,p))&&(l&&l(),Lt(e,i,3,[t,p===se?void 0:p,f]),p=t)}else y()};let d;h.allowRecurse=!!e,d="sync"===r?h:"post"===r?()=>le(h,i&&i.suspense):()=>{!i||i.isMounted?function(t){Jt(t,Dt,jt,Vt)}(h):h()};const y=U(a,{lazy:!0,onTrack:s,onTrigger:c,scheduler:d});return function(t,e=ve){e&&(e.effects||(e.effects=[])).push(t)}(y,i),e?n?h():p=y():"post"===r?le(y,i&&i.suspense):y(),()=>{var t;(t=y).active&&(D(t),t.options.onStop&&t.options.onStop(),t.active=!1),i&&((t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)})(i.effects,y)}}function ie(t,e,n){const o=this.proxy;return ce(O(t)?()=>o[t]:t.bind(o),e.bind(o),n,this)}function ae(t,e=new Set){if(!x(t)||e.has(t))return t;if(e.add(t),Pt(t))ae(t.value,e);else if(R(t))for(let n=0;n<t.length;n++)ae(t[n],e);else if("[object Set]"===C(t)||N(t))t.forEach((t=>{ae(t,e)}));else for(const n in t)ae(t[n],e);return t}const le=function(t,e){e&&e.pendingBranch?R(t)?e.effects.push(...t):e.effects.push(t):Gt(t)},ue=Symbol(void 0);const fe=({key:t})=>null!=t?t:null,pe=({ref:t})=>null!=t?O(t)||Pt(t)||S(t)?{i:null,r:t}:t:null;function he(t,e,n=!1){const{props:o,ref:r,patchFlag:s}=t,c=e?function(...t){const e=E({},t[0]);for(let n=1;n<t.length;n++){const o=t[n];for(const t in o)if("class"===t)e.class!==o.class&&(e.class=d([e.class,o.class]));else if("style"===t)e.style=u([e.style,o.style]);else if(v(t)){const n=e[t],r=o[t];n!==r&&(e[t]=n?[].concat(n,o[t]):r)}else""!==t&&(e[t]=o[t])}return e}(o||{},e):o;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&fe(c),ref:e&&e.ref?n&&r?R(r)?r.concat(pe(e)):[r,pe(e)]:pe(e):r,scopeId:t.scopeId,children:t.children,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ue?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&he(t.ssContent),ssFallback:t.ssFallback&&he(t.ssFallback),el:t.el,anchor:t.anchor}}function de(t,e,n){const o=n.appContext.config.optionMergeStrategies,{mixins:r,extends:s}=e;s&&de(t,s,n),r&&r.forEach((e=>de(t,e,n)));for(const c in e)o&&b(o,c)?t[c]=o[c](t[c],e[c],n.proxy,c):t[c]=e[c]}const ge=t=>t&&(t.proxy?t.proxy:ge(t.parent)),_e=E(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ge(t.parent),$root:t=>t.root&&t.root.proxy,$emit:t=>t.emit,$options:t=>function(t){const e=t.type,{__merged:n,mixins:o,extends:r}=e;if(n)return n;const s=t.appContext.mixins;if(!s.length&&!o&&!r)return e;const c={};return s.forEach((e=>de(c,e,t))),de(c,e,t),e.__merged=c}(t),$forceUpdate:t=>()=>{return e=t.update,void($t.length&&$t.includes(e,At&&e.allowRecurse?Ut+1:Ut)||e===Bt||($t.push(e),Yt()));var e},$nextTick:t=>Xt.bind(t.proxy),$watch:t=>ie.bind(t)}),ye={get({_:t},e){const{ctx:n,setupState:o,data:r,props:s,accessCache:c,type:i,appContext:a}=t;if("__v_skip"===e)return!0;let l;if("$"!==e[0]){const i=c[e];if(void 0!==i)switch(i){case 0:return o[e];case 1:return r[e];case 3:return n[e];case 2:return s[e]}else{if(o!==g&&b(o,e))return c[e]=0,o[e];if(r!==g&&b(r,e))return c[e]=1,r[e];if((l=t.propsOptions[0])&&b(l,e))return c[e]=2,s[e];if(n!==g&&b(n,e))return c[e]=3,n[e];c[e]=4}}const u=_e[e];let f,p;return u?("$attrs"===e&&K(t,0,e),u(t)):(f=i.__cssModules)&&(f=f[e])?f:n!==g&&b(n,e)?(c[e]=3,n[e]):(p=a.config.globalProperties,b(p,e)?p[e]:void 0)},set({_:t},e,n){const{data:o,setupState:r,ctx:s}=t;if(r!==g&&b(r,e))r[e]=n;else if(o!==g&&b(o,e))o[e]=n;else if(e in t.props)return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:o,appContext:r,propsOptions:s}},c){let i;return void 0!==n[c]||t!==g&&b(t,c)||e!==g&&b(e,c)||(i=s[0])&&b(i,c)||b(o,c)||b(_e,c)||b(r.config.globalProperties,c)}};E({},ye,{get(t,e){if(e!==Symbol.unscopables)return ye.get(t,e,t)},has:(t,e)=>"_"!==e[0]&&!l(e)});let ve=null;const Ee=t=>{ve=t};const me=[];function be(t){for(let e=0;e<me.length;e++)if(me[e].key===t)return e;return-1}var Re,Ne,Se,Oe;function we(t){return 128&t.shapeFlag?t.ssContent:t}function xe(t){let e=t.shapeFlag;256&e&&(e-=256),512&e&&(e-=512),t.shapeFlag=e}function Te(t,e){e&&e.pendingBranch?R(t)?e.effects.push(...t):e.effects.push(t):Gt(t)}function Ce(t,e,n,o=null){Lt(t,e,7,[n,o])}(Ne=Re||(Re={}))[Ne.ELEMENT=1]="ELEMENT",Ne[Ne.FUNCTIONAL_COMPONENT=2]="FUNCTIONAL_COMPONENT",Ne[Ne.STATEFUL_COMPONENT=4]="STATEFUL_COMPONENT",Ne[Ne.TEXT_CHILDREN=8]="TEXT_CHILDREN",Ne[Ne.ARRAY_CHILDREN=16]="ARRAY_CHILDREN",Ne[Ne.SLOTS_CHILDREN=32]="SLOTS_CHILDREN",Ne[Ne.TELEPORT=64]="TELEPORT",Ne[Ne.SUSPENSE=128]="SUSPENSE",Ne[Ne.COMPONENT_SHOULD_KEEP_ALIVE=256]="COMPONENT_SHOULD_KEEP_ALIVE",Ne[Ne.COMPONENT_KEPT_ALIVE=512]="COMPONENT_KEPT_ALIVE",Ne[Ne.COMPONENT=6]="COMPONENT",(Oe=Se||(Se={}))[Oe.ENTER=0]="ENTER",Oe[Oe.LEAVE=1]="LEAVE",Oe[Oe.REORDER=2]="REORDER";const ke=e=>({name:t,__isKeepAlive:!0,setup(t=null,{slots:n}){const o=ve||null,s=o.ctx,c=new Map,a=o.suspense,{renderer:{p:l,m:u,um:f,o:{createElement:p}}}=s,h=p("div");function d(t){xe(t),f(t,o,a)}s.activate=(t,e,n,o,r)=>{const s=t.component;u(t,e,n,0,a),l(s.vnode,t,e,n,s,a,o,t.slotScopeIds,r),Te((()=>{s.isDeactivated=!1,s.a&&M(s.a);const e=t.props&&t.props.onVnodeMounted;e&&Ce(e,s.parent,t)}),a)},s.deactivate=t=>{const e=t.component;u(t,h,null,1,a),Te((()=>{e.da&&M(e.da);const n=t.props&&t.props.onVnodeUnmounted;n&&Ce(n,e.parent,t),e.isDeactivated=!0}),a)};const g=()=>{};return ne(g),oe(g),re((()=>{c.forEach((t=>{const{subTree:e,suspense:n}=o,r=we(e);if(t.type!==r.type)d(t);else{xe(r);const t=r.component.da;t&&Te(t,n)}}))})),()=>{const t=this.$route.query[e];if(!n.default)return null;const o=n.default(),s=o[0];if(o.length>1)return o;if(!(c=s,c&&!0===c.__v_isVNode&&(4&s.shapeFlag||128&s.shapeFlag)))return s;var c;let a=we(s);a.el&&(a=he(a),128&s.shapeFlag&&(s.ssContent=a));const l=be(t);if(-1!==l){a.el=me[l].vnode.el,a.component=me[l].vnode.component,a.shapeFlag|=512;for(let t=l+1;t<me.length;t++)d(me[t]),me[t]=null;me.splice(l+1)}else i.action===r&&(d(me[me.length-1]),me[me.length-1]=null,me.splice(me.length-1)),me.push({key:t,vnode:a});return a.shapeFlag|=256,s}}});function Pe(){return me}function Me(t,e){return!!t[e]}return{install(a,{router:l,name:u=t,keyName:f=e}){if(!l)throw Error("\n vue-router is necessary. \n\n");a.component(u,ke(f)),a.prototype.$pageStack={getStack:Pe},(t=>{const e=t.push.bind(t),a=t.go.bind(t),l=t.replace.bind(t),u=t.back.bind(t),f=t.forward.bind(t);t.push=(t,o,r)=>(i.action=n,o||r?e(t,o,r):e(t).catch((t=>t))),t.go=t=>{i.action=o,a(t)},t.replace=(t,e,n)=>(i.action=r,e||n?l(t,e,n):l(t).catch((t=>t))),t.back=()=>{i.action=s,u()},t.forward=()=>{i.action=c,f()}})(l),l.beforeHooks.unshift((function(t,e,n){if(Me(t.query,f)){const e=be(t.query[f]);t.params[f+"-dir"]=-1===e?c:s,n({params:t.params})}else{t.query[f]="xxxxxxxx".replace(/[xy]/g,(t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}));const o=i.action===r||!Me(e.query,f);n({hash:t.hash,path:t.path,name:t.name,params:t.params,query:t.query,meta:t.meta,replace:o})}}))}}}));
